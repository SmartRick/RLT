# LoRA 自动训练系统 - 前端界面

这是一个用于管理LoRA（Low-Rank Adaptation）模型训练的前端Web应用，提供了直观的用户界面来简化AI模型训练流程。该系统采用现代化的Mac风格UI设计，为用户提供流畅的操作体验。

![UI预览图（请添加实际截图）](./public/preview.png)

## 📚 主要功能模块

### 1. 资产管理模块
- **资产创建与配置**：添加、编辑和删除训练资源
- **资产连接状态监控**：实时监控资产的连接状态（已连接/待连接/连接错误）
- **资产能力验证**：验证资产是否具备LoRA训练和AI引擎能力
- **资产终端控制**：通过集成的终端界面直接操作远程资产
- **资产筛选与搜索**：按状态、能力和关键词快速筛选资产

### 2. 任务管理模块
- **任务创建与配置**：创建训练任务并配置训练参数
- **任务状态监控**：实时监控任务的执行状态和进度
- **任务操作控制**：提交标记、开始训练、终止任务、重启任务等操作
- **训练图片管理**：上传、预览和删除训练图片
- **标记文本管理**：查看和编辑图片的标记文本

### 3. 训练监控模块
- **实时日志查看**：通过终端界面实时查看训练日志
- **训练进度跟踪**：监控训练步骤完成情况和时间估计
- **Loss值曲线图**：可视化展示训练过程中的loss值变化（开发中）
- **训练结果预览**：查看训练完成后的模型效果（开发中）
- **模型下载**：训练完成后下载生成的模型文件（开发中）

### 4. 系统设置模块
- **全局配置管理**：设置系统级别的默认参数
  - 标记轮询间隔
  - 任务调度间隔
  - 文件目录配置
  - 工作流配置
- **标记配置**：设置图像标记的默认参数
  - 自动裁剪设置
  - 自动标签设置
  - 置信度阈值
  - 最大标签数量
  - 默认裁剪比例
- **AI引擎配置**：配置AI推理引擎参数

## 🔧 配置优先级系统

系统实现了三级配置优先级机制，确保训练参数的灵活性和可控性：

1. **任务配置**：针对单个训练任务的特定配置，具有最高优先级
   - 在任务详情页面可设置任务特定的训练参数
   - 包括学习率、训练步数、批次大小等参数
   - 仅影响当前任务的执行

2. **资产配置**：针对特定数据集或模型的配置，当任务配置未指定时生效
   - 在资产管理页面可为每个资产设置默认训练参数
   - 包括资产特定的硬件优化参数和模型配置
   - 适用于该资产上执行的所有任务（除非任务配置覆盖）

3. **全局配置**：系统默认配置，当上述两级配置未指定时生效
   - 在系统设置页面统一管理
   - 作为所有任务和资产的默认配置基准
   - 确保即使没有特定配置，系统也能使用合理的默认值

配置优先级：任务配置 > 资产配置 > 全局配置

## 🚀 快速开始

### 环境要求

- Node.js 14.0+
- npm 6.0+

### 安装依赖

```bash
npm install
```

### 开发环境运行

```bash
npm run serve
```

### 生产环境构建

```bash
npm run build
```

## 📁 项目结构

```
src/
├── api/          # API接口封装
│   ├── asset.js  # 资产管理API
│   ├── tasks.js  # 任务管理API
│   └── system.js # 系统设置API
├── assets/       # 静态资源
├── components/   # 可复用组件
│   ├── assets/   # 资产相关组件
│   ├── common/   # 通用UI组件
│   ├── layout/   # 布局组件
│   ├── tasks/    # 任务相关组件
│   └── terminal/ # 终端相关组件
├── router/       # 路由配置
├── utils/        # 工具函数
│   ├── message.js      # 消息提示工具
│   ├── datetime.js     # 日期时间处理
│   └── taskStatus.js   # 任务状态处理
├── views/        # 页面视图
│   ├── Assets.vue      # 资产管理页面
│   ├── Tasks.vue       # 任务列表页面
│   ├── TaskDetail.vue  # 任务详情页面
│   ├── Settings.vue    # 系统设置页面
│   └── Training.vue    # 训练监控页面
├── App.vue       # 根组件
└── main.js       # 入口文件
```

## 🖥️ 使用指南

### 1. 资产管理
- **创建资产**：点击"新建资产"按钮，填写资产信息（名称、IP地址等）
- **连接验证**：创建资产后，系统自动验证连接状态和可用能力
- **资产配置**：为资产设置特定的训练参数和硬件优化选项
- **终端操作**：点击资产卡片上的"终端"按钮，打开远程终端进行操作

### 2. 任务管理
- **创建任务**：点击"新建任务"按钮，输入任务名称和描述
- **上传图片**：在任务详情页点击"上传图片"，选择训练用的图片文件
- **配置参数**：根据需要调整任务特定的训练参数
- **提交标记**：图片上传完成后，点击"提交标记"进行图像标记
- **开始训练**：标记完成后，点击"开始训练"启动模型训练

### 3. 训练监控
- **查看进度**：在任务详情页实时监控训练进度和状态
- **查看日志**：通过终端界面查看详细的训练日志输出
- **分析结果**：训练完成后查看loss曲线和训练效果（开发中）
- **下载模型**：训练完成后下载生成的模型文件（开发中）

### 4. 系统设置
- **全局配置**：设置系统级别的默认参数和目录配置
- **标记配置**：调整图像标记的默认参数和行为
- **AI配置**：配置AI推理引擎的参数和行为

## 🔄 与后端集成

本项目需要配合后端API使用，确保后端服务已正确配置并运行。API基础路径可通过环境变量配置。

## 🛠️ 技术栈

- Vue 3 - 前端框架
- Vue Router - 路由管理
- Axios - HTTP请求
- XTerm - 终端模拟
- ECharts - 数据可视化（用于loss曲线图等）
- Heroicons - 图标库

## 🚧 开发计划

当前正在开发的功能：

1. **训练结果分析**：实现loss值曲线图表展示，训练结果预览和模型下载功能
   - 使用ECharts实现训练过程中loss值的实时可视化
   - 添加训练结果预览界面，展示模型效果
   - 实现模型文件的下载和管理功能

2. **资产管理优化**：完善资产的数据传输和终端控制
   - 优化资产连接状态监控机制
   - 增强终端功能，支持更多命令和操作
   - 改进资产能力检测和验证流程

3. **任务调度重构**：优化任务调度架构，提高系统稳定性和性能
   - 重构任务队列管理机制
   - 优化资源分配算法
   - 增强任务执行状态监控和错误恢复机制

4. **UI/UX改进**：持续优化用户界面和交互体验
   - 完善响应式设计，适配不同屏幕尺寸
   - 优化操作流程，减少用户操作步骤
   - 增强视觉反馈，提高用户体验

## 📄 许可证

[MIT](LICENSE)

## 🤝 贡献指南

欢迎提交Issues和Pull Requests来改进项目！

